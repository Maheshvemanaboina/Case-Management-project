/*------------------------------------------------------------  
Author:       Gianluca Calcagni
Company:      Waeg
Description:  Used to mock the apex web-service QuotationWebService

History
2019-09-09    Gianluca Calcagni    Created helper
------------------------------------------------------------*/
@isTest
public class QuotationWebServiceMock implements WebServiceMock {



    // IMPLEMENTATION METHODS //

    public void doInvoke(
        Object stub,
        Object request,
        Map<String, Object> response,
        String endpoint,
        String soapAction,
        String requestName,
        String responseNS,
        String responseName,
        String responseType
    ) {
        // Create a request element and a response element from the autogenerated class //
        QuotationWebServiceClass.Response responseElement = new QuotationWebServiceClass.Response();
        QuotationWebServiceClass.Request  requestElement  = (QuotationWebServiceClass.Request) request;

        // Populate the response element //
        responseElement.ACTION                = requestElement.ACTION;
        responseElement.REQUEST_ID            = requestElement.REQUEST_ID;
        responseElement.QUOTATION_EXTERNAL_ID = requestElement.QUOTATION_EXTERNAL_ID;
        responseElement.QUOTATION_NO          = requestElement.ACTION == 'CREATE_QUOTATION' ? '0123456789' : requestElement.QUOTATION_NO;
        responseElement.QUOTATION_STATUS      = requestElement.ACTION == 'CREATE_QUOTATION' ? 'ST01' : requestElement.ACTION == 'REJECT_QUOTATION' ? 'ST04' : null;
        responseElement.RESPONSE_STATUS       = 'S';
        responseElement.ERROR_MSG             = null;
        responseElement.CONTRACT_NO           = requestElement.ACTION == 'CREATE_CONTRACT' ? '9876543210' : null;

        // Add the response element as a response parameter //
        response.put( 'response_x', responseElement ); 
   }



}